<!doctype html>
<html>
<head>

</head>
<body>
	<a href="test/" style="font-size:16px;">Go to test page</a><br/>
	<h3 style="font-family:monospace">Software</h3>
	<div id="scview"><code>
		Source Control Manager: git<br/>
		repo: <span class="url"><a></a></span><br/>
		version: <span class="ver"></span><br/>
		commit: <span class="hash"></span><br/>
		Revision Date: <span class="date"></span><br/><br/>
	</code></div><br/>
	<h3 style="font-family:monospace">Hardware</h3>
	<div id="hwview"><code>
		Hardware Components: <br/>
		 - Raspberry Pi<br/>
		 - Pimoroni Automation Hat<br/>
		<br/>
		<br/>
	</code></div>
	<script src="js/lib-verbose.js"></script>
	<script>
		_.xhr("post", "version", function (data) {
			try {
				var obj = JSON.parse(data);
				if (obj.success === false)
					throw obj.error;

				obj.repo = obj.repo.replace(/\n$/, "");
				obj.commit = obj.commit.replace(/\n$/, "");
				obj.version = obj.version.replace(/\n$/, "");
				obj.rev_date = obj.rev_date.replace(/\n$/, "");
				_("#scview .url").child("a").attr("href", obj.repo).html(obj.repo);
				_("#scview .ver").html(obj.version);
				_("#scview .hash").html(obj.commit);
				_("#scview .date").html(obj.rev_date);
			} catch (e) {
				console.log(e, data);
			}
		});
	</script>
</body>
</html>
